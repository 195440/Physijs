!function(i,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):i.physijs=s()}(this,function(){"use strict";function i(){return J++}function s(s,t){var e=i();this.physijs.postMessage(Q.RAYTRACE,{raytrace_id:e,rays:s.map(function(i){return{start:{x:i.start.x,y:i.start.y,z:i.start.z},end:{x:i.end.x,y:i.end.y,z:i.end.z}}})}),this.physijs.inflight_raytraces[e]=t}function t(i){var s=this.physijs.inflight_raytraces[i.raytrace_id],t=this;s(i.results.map(function(i){return i.map(function(i){return{body:t.physijs.id_body_map[i.body_id],point:new THREE.Vector3(i.point.x,i.point.y,i.point.z),normal:new THREE.Vector3(i.normal.x,i.normal.y,i.normal.z)}})},t))}function e(i){this.physijs.postMessage(Q.SET_RIGIDBODY_ANGULAR_FACTOR,{body_id:i.physics._.id,factor:{x:i.physics.angular_factor.x,y:i.physics.angular_factor.y,z:i.physics.angular_factor.z}})}function n(i){this.physijs.postMessage(Q.SET_RIGIDBODY_LINEAR_FACTOR,{body_id:i.physics._.id,factor:{x:i.physics.linear_factor.x,y:i.physics.linear_factor.y,z:i.physics.linear_factor.z}})}function o(i){this.physijs.postMessage(Q.SET_RIGIDBODY_ANGULAR_VELOCITY,{body_id:i.physics._.id,velocity:{x:i.physics.angular_velocity.x,y:i.physics.angular_velocity.y,z:i.physics.angular_velocity.z}})}function r(i){this.physijs.postMessage(Q.SET_RIGIDBODY_LINEAR_VELOCITY,{body_id:i.physics._.id,velocity:{x:i.physics.linear_velocity.x,y:i.physics.linear_velocity.y,z:i.physics.linear_velocity.z}})}function a(i){this.physijs.postMessage(Q.SET_RIGIDBODY_TRANSFORM,{body_id:i.physics._.id,position:{x:i.position.x,y:i.position.y,z:i.position.z},rotation:{x:i.quaternion.x,y:i.quaternion.y,z:i.quaternion.z,w:i.quaternion.w}})}function p(i){this.physijs.postMessage(Q.SET_RIGIDBODY_COLLISION_MASK,{body_id:i._.id,collision_mask:i._.collision_mask})}function h(i){this.physijs.postMessage(Q.SET_RIGIDBODY_COLLISION_GROUPS,{body_id:i._.id,collision_groups:i._.collision_groups})}function c(i){this.physijs.postMessage(Q.SET_RIGIDBODY_ANGULAR_DAMPING,{body_id:i._.id,damping:i._.angular_damping})}function _(i){this.physijs.postMessage(Q.SET_RIGIDBODY_LINEAR_DAMPING,{body_id:i._.id,damping:i._.linear_damping})}function y(i){this.physijs.postMessage(Q.SET_RIGIDBODY_FRICTION,{body_id:i._.id,friction:i._.friction})}function l(i){this.physijs.postMessage(Q.SET_RIGIDBODY_RESTITUTION,{body_id:i._.id,restitution:i._.restitution})}function d(i){this.physijs.postMessage(Q.SET_RIGIDBODY_MASS,{body_id:i._.id,mass:i._.mass})}function u(i){this.physijs.postMessage(Q.SET_CONSTRAINT_MOTOR,{constraint_id:i.constraint_id,enabled:i.physics.motor.enabled,torque:i.physics.motor.torque,max_speed:i.physics.motor.max_speed})}function R(i){this.physijs.postMessage(Q.SET_CONSTRAINT_LIMIT,{constraint_id:i.constraint_id,enabled:i.physics.limit.enabled,lower:i.physics.limit.lower,upper:i.physics.limit.upper})}function g(i){this.physijs.postMessage(Q.SET_CONSTRAINT_BREAKING_THRESHOLD,{constraint_id:i.constraint_id,breaking_threshold:i.physics.breaking_threshold})}function T(i){this.physijs.postMessage(Q.SET_CONSTRAINT_FACTOR,{constraint_id:i.constraint_id,factor:i.physics.factor})}function E(i){this.physijs.postMessage(Q.SET_CONSTRAINT_ACTIVE,{constraint_id:i.constraint_id,active:i.physics.active})}function I(i){this.physijs.worker.postMessage(i,[i.buffer])}function f(i,s){this.physijs.worker.postMessage({type:i,parameters:s})}function O(i){for(var s=i[1],t=0;s>t;t+=5){var e=t+2,n=this.physijs.id_constraint_map[i[e]];null!=n&&(n.physics.active=n.physics._.active=1===i[e+1],n.physics.last_impulse.set(i[e+2],i[e+3],i[e+4]))}this.physijs.postReport(i)}function m(i){for(var s=i[1],t=0;s>t;t+=16){var e=t+2,n=i[e+0];n===ei.START?n="physics.contactStart":n===ei.CONTINUE&&(n="physics.contactContinue"),n===ei.END&&(n="physics.contactEnd");var o=this.physijs.id_body_map[i[e+1]],r=this.physijs.id_body_map[i[e+2]];null!=o&&null!=r&&(ti.set(i[e+3],i[e+4],i[e+5]),si.set(i[e+6],i[e+7],i[e+8]),ii.set(i[e+9],i[e+10],i[e+11]),$.set(i[e+12],i[e+13],i[e+14]),o.dispatchEvent({type:n,other_body:r,contact_point:ti,contact_normal:si,relative_linear_velocity:ii,relative_angular_velocity:$,penetration_depth:i[e+15]}),r.dispatchEvent({type:n,other_body:o,contact_point:ti,contact_normal:si,relative_linear_velocity:ii,relative_angular_velocity:$,penetration_depth:i[e+15]}))}this.physijs.postReport(i)}function b(i){for(var s=i[1],t=i[2],e=0;t>e;e++){var n=3+30*e,o=i[n++],r=this.physijs.id_body_map[o];null!=r&&(r.matrix.set(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]),r.position.copy(r.physics._.position.set(i[n++],i[n++],i[n++])),r.quaternion.copy(r.physics._.quaternion.set(i[n++],i[n++],i[n++],i[n++])),r.physics.linear_velocity.copy(r.physics._.linear_velocity.set(i[n++],i[n++],i[n++])),r.physics.angular_velocity.copy(r.physics._.angular_velocity.set(i[n++],i[n++],i[n++])))}if(this.physijs.postReport(i),this.physijs.is_stepping=!1,this.physijs.onStep instanceof Function){var a=this.physijs.onStep;this.physijs.onStep=null,a.call(this,s)}}function S(i,s){this.physijs.worker=new Worker(i),this.physijs.worker.addEventListener("message",function(i){var s,t,e=i.data;if(e instanceof Float32Array?(s=e[0],t=e):(e=e||{},s=e.type,t=e.parameters),!this.physijs.handlers.hasOwnProperty(s))throw new Error("Physijs scene received unknown message type: "+s);this.physijs.handlers[s](t)}.bind(this)),this.physijs.handleMessage(Q.REPORTS.WORLD,this.physijs.processWorldReport),this.physijs.handleMessage(Q.REPORTS.COLLISIONS,this.physijs.processCollisionReport),this.physijs.handleMessage(Q.REPORTS.CONSTRAINTS,this.physijs.processConstraintsReport),this.physijs.handleMessage(Q.RAYTRACE_RESULTS,this.physijs.processRaytraceResults),this.physijs.postMessage(Q.INITIALIZE,s||{})}function D(i,s,t){null==t&&(t={x:0,y:0,z:0}),this.physijs.postMessage(Q.APPLY_FORCE,{body_id:i.physics._.id,force:{x:s.x,y:s.y,z:s.z},local_location:{x:t.x,y:t.y,z:t.z}})}function A(i,s){this.physijs.handlers[i]=s}function j(i,j){THREE.Scene.call(this),this.physijs={handlers:{},handleMessage:A.bind(this),is_stepping:!1,id_body_map:{},id_constraint_map:{},onStep:null,applyForce:D.bind(this),initializeWorker:S.bind(this),processWorldReport:b.bind(this),processCollisionReport:m.bind(this),processConstraintsReport:O.bind(this),postMessage:f.bind(this),postReport:I.bind(this),setConstraintActive:E.bind(this),setConstraintFactor:T.bind(this),setConstraintBreakingThreshold:g.bind(this),setConstraintLimit:R.bind(this),setConstraintMotor:u.bind(this),setRigidBodyMass:d.bind(this),setRigidBodyRestitution:l.bind(this),setRigidBodyFriction:y.bind(this),setRigidBodyLinearDamping:_.bind(this),setRigidBodyAngularDamping:c.bind(this),setRigidBodyCollisionGroups:h.bind(this),setRigidBodyCollisionMask:p.bind(this),setRigidBodyTransform:a.bind(this),setRigidBodyLinearVelocity:r.bind(this),setRigidBodyAngularVelocity:o.bind(this),setRigidBodyLinearFactor:n.bind(this),setRigidBodyAngularFactor:e.bind(this),inflight_raytraces:{},processRaytraceResults:t.bind(this)},this.physics={raytrace:s.bind(this)},this.physijs.initializeWorker(i,j)}function N(i){var s=i.physics.getShapeDefinition(i.physics.geometry);return{body_id:i.physics._.id,shape_definition:s,mass:i.physics._.mass,restitution:i.physics._.restitution,friction:i.physics._.friction,linear_damping:i.physics._.linear_damping,angular_damping:i.physics._.angular_damping,collision_groups:i.physics._.collision_groups,collision_mask:i.physics._.collision_mask}}function B(s,t,e,n){e=e||{},this.three_object=s,this.geometry=t,this.getShapeDefinition=n,this.linear_velocity=new THREE.Vector3,this.angular_velocity=new THREE.Vector3,this.linear_factor=new THREE.Vector3(1,1,1),this.angular_factor=new THREE.Vector3(1,1,1),this._={id:i(),mass:e.mass||1/0,restitution:e.restitution||.1,friction:e.friction||.5,linear_damping:e.linear_damping||0,angular_damping:e.angular_damping||0,collision_groups:e.collision_groups||0,collision_mask:e.collision_mask||0,type:e.type||"RIGID",position:new THREE.Vector3,quaternion:new THREE.Quaternion,linear_velocity:new THREE.Vector3,angular_velocity:new THREE.Vector3,linear_factor:new THREE.Vector3(1,1,1),angular_factor:new THREE.Vector3(1,1,1),applied_forces:[]},this.clone=function(i){var s=new B(i,t,e,n);return s.mass=this.mass,s.restitution=this.restitution,s.friction=this.friction,s.linear_damping=this.linear_damping,s.angular_damping=this.angular_damping,s.collision_groups=this.collision_groups,s.collision_mask=this.collision_mask,s.linear_velocity.copy(this.linear_velocity),s.angular_velocity.copy(this.angular_velocity),s.linear_factor.copy(this.linear_factor),s.angular_factor.copy(this.angular_factor),s.applied_forces=this.applied_forces.slice(),s}}function C(){this.constraint_id=i(),this.scene=null,this.physics={active:!0,factor:1,breaking_threshold:0,last_impulse:new THREE.Vector3,limit:{enabled:!1,lower:null,upper:null},motor:{enabled:!1,torque:null,max_speed:null},_:{active:!0,factor:1,breaking_threshold:0,limit:{enabled:!1,lower:null,upper:null},motor:{enabled:!1,torque:null,max_speed:null}}}}function x(){var i=Array.prototype.slice.call(arguments),s=i.shift(),t=s.apply(this,i);return t.physics=this.physics.clone(t),t}function v(i,s,t,e){var n,o,r;return i instanceof THREE.Geometry?(o=i,n=new THREE.Mesh(o,s),r=t):(n=i,s instanceof THREE.Geometry?(o=s,r=t):(o=n.geometry,r=s)),n.rotationAutoUpdate=!1,n.matrixAutoUpdate=!1,n.physics=new B(n,o,r,e),n.clone=x.bind(n,n.clone),n}function M(i,s){var t=[],e=new THREE.Vector3,n=new THREE.Quaternion;i.updateMatrix(),i.updateMatrixWorld(!0);var o=(new THREE.Matrix4).getInverse(i.matrixWorld),r=new THREE.Matrix4;return i.traverse(function(a){if(a.updateMatrix(),a.updateMatrixWorld(!0),a.physics instanceof B){var p;null!=s?p=s(a.physics.geometry):i!==a&&(p=a.physics.getShapeDefinition(a.physics.geometry)),null!=p&&(r.copy(a.matrixWorld).multiply(o),e.setFromMatrixPosition(r),n.setFromRotationMatrix(r),t.push({position:{x:e.x,y:e.y,z:e.z},quaternion:{x:n._x,y:n._y,z:n._z,w:n._w},shape_definition:p}))}}),{body_type:ni.COMPOUND,shapes:t}}function G(i,s){if(null==s)throw new Error("Physijs: attempted to create rigid body without specifying physics details");return i.physics instanceof B?i.physics.getShapeDefinition=M.bind(null,i,i.physics.getShapeDefinition):i.physics=new B(i,null,s,M.bind(null,i)),i.rotationAutoUpdate=!1,i.matrixAutoUpdate=!1,i.clone=x.bind(i,i.clone),i}function L(i,s,t,e,n){C.call(this),this.body_a=i,this.hinge_axis=s,this.point_a=t,this.body_b=e,this.point_b=n}function Y(i){var s=i.vertices.reduce(function(i,s){return i.push(s.x,s.y,s.z),i},[]),t=i.faces.reduce(function(i,s){return i.push(s.a,s.b,s.c),i},[]);return{body_type:ni.TRIANGLE,vertices:s,faces:t}}function w(i,s,t){return v.call(this,i,s,t,Y)}function H(i){return i.computeBoundingSphere(),{body_type:ni.SPHERE,radius:i.boundingSphere.radius}}function P(i,s,t){return v.call(this,i,s,t,H)}function V(i){return i.computeBoundingBox(),{body_type:ni.PLANE,width:i.boundingBox.max.x,height:i.boundingBox.max.y}}function z(i,s,t){return v.call(this,i,s,t,V)}function k(i){return i.computeBoundingBox(),{body_type:ni.CYLINDER,radius:i.boundingBox.max.x,height:i.boundingBox.max.y}}function F(i,s,t){return v.call(this,i,s,t,k)}function U(i){var s=i.vertices.reduce(function(i,s){return i.push(s.x,s.y,s.z),i},[]);return{body_type:ni.CONVEX,vertices:s}}function q(i,s,t){return v.call(this,i,s,t,U)}function W(i){return i.computeBoundingBox(),{body_type:ni.CONE,radius:i.boundingBox.max.x,height:i.boundingBox.max.y}}function K(i,s,t){return v.call(this,i,s,t,W)}function X(i){return i.computeBoundingBox(),{body_type:ni.BOX,width:i.boundingBox.max.x,height:i.boundingBox.max.y,depth:i.boundingBox.max.z}}function Z(i,s,t){return v.call(this,i,s,t,X)}var Q={REPORTS:{WORLD:0,COLLISIONS:1,CONSTRAINTS:2},INITIALIZE:"INITIALIZE",ADD_GHOSTBODY:"ADD_GHOSTBODY",ADD_RIGIDBODY:"ADD_RIGIDBODY",APPLY_FORCE:"APPLY_FORCE",REMOVE_COSNTRAINT:"REMOVE_COSNTRAINT",REMOVE_GHOSTBODY:"REMOVE_GHOSTBODY",REMOVE_RIGIDBODY:"REMOVE_RIGIDBODY",SET_CONSTRAINT_ACTIVE:"SET_CONSTRAINT_ACTIVE",SET_CONSTRAINT_FACTOR:"SET_CONSTRAINT_FACTOR",SET_CONSTRAINT_BREAKING_THRESHOLD:"SET_CONSTRAINT_BREAKING_THRESHOLD",SET_CONSTRAINT_LIMIT:"SET_CONSTRAINT_LIMIT",SET_CONSTRAINT_MOTOR:"SET_CONSTRAINT_MOTOR",SET_RIGIDBODY_MASS:"SET_RIGIDBODY_MASS",SET_RIGIDBODY_RESTITUTION:"SET_RIGIDBODY_RESTITUTION",SET_RIGIDBODY_FRICTION:"SET_RIGIDBODY_FRICTION",SET_RIGIDBODY_LINEAR_DAMPING:"SET_RIGIDBODY_LINEAR_DAMPING",SET_RIGIDBODY_ANGULAR_DAMPING:"SET_RIGIDBODY_ANGULAR_DAMPING",SET_RIGIDBODY_COLLISION_GROUPS:"SET_RIGIDBODY_COLLISION_GROUPS",SET_RIGIDBODY_COLLISION_MASK:"SET_RIGIDBODY_COLLISION_MASK",SET_RIGIDBODY_TRANSFORM:"SET_RIGIDBODY_TRANSFORM",SET_RIGIDBODY_LINEAR_VELOCITY:"SET_RIGIDBODY_LINEAR_VELOCITY",SET_RIGIDBODY_ANGULAR_VELOCITY:"SET_RIGIDBODY_ANGULAR_VELOCITY",SET_RIGIDBODY_LINEAR_FACTOR:"SET_RIGIDBODY_LINEAR_FACTOR",SET_RIGIDBODY_ANGULAR_FACTOR:"SET_RIGIDBODY_ANGULAR_FACTOR",STEP_SIMULATION:"STEP_SIMULATION",RAYTRACE:"RAYTRACE",RAYTRACE_RESULTS:"RAYTRACE_RESULTS",ADD_CONSTRAINT:"ADD_CONSTRAINT"},J=0,$=new THREE.Vector3,ii=new THREE.Vector3,si=new THREE.Vector3,ti=new THREE.Vector3,ei={START:0,CONTINUE:1,END:2};j.prototype=Object.create(THREE.Scene.prototype),j.prototype.constructor=j,Object.defineProperty(B.prototype,"mass",{get:function(){return this._.mass},set:function(i){this._.mass=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyMass(this)}}),Object.defineProperty(B.prototype,"restitution",{get:function(){return this._.restitution},set:function(i){this._.restitution=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyRestitution(this)}}),Object.defineProperty(B.prototype,"friction",{get:function(){return this._.friction},set:function(i){this._.friction=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyFriction(this)}}),Object.defineProperty(B.prototype,"linear_damping",{get:function(){return this._.linear_damping},set:function(i){this._.linear_damping=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyLinearDamping(this)}}),Object.defineProperty(B.prototype,"angular_damping",{get:function(){return this._.angular_damping},set:function(i){this._.angular_damping=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyAngularDamping(this)}}),Object.defineProperty(B.prototype,"collision_groups",{get:function(){return this._.collision_groups},set:function(i){this._.collision_groups=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyCollisionGroups(this)}}),Object.defineProperty(B.prototype,"collision_mask",{get:function(){return this._.collision_mask},set:function(i){this._.collision_mask=i,null!=this.three_object.parent&&this.three_object.parent.physijs.setRigidBodyCollisionMask(this)}}),Object.defineProperty(B.prototype,"type",{get:function(){return this._.type}}),B.prototype.applyForce=function(i,s){this._.applied_forces.push(i,s)},j.prototype.add=function(i){if(i instanceof C){i.scene=this;var s=i.getConstraintDefinition();return this.physijs.id_constraint_map[s.constraint_id]=i,this.physijs.setRigidBodyTransform(i.body_a),null!=i.body_b&&this.physijs.setRigidBodyTransform(i.body_b),void this.physijs.postMessage(Q.ADD_CONSTRAINT,s)}if(THREE.Scene.prototype.add.call(this,i),i.physics instanceof B){var t=N(i);this.physijs.id_body_map[t.body_id]=i,"RIGID"===i.physics.type?this.physijs.postMessage(Q.ADD_RIGIDBODY,t):"GHOST"===i.physics.type?this.physijs.postMessage(Q.ADD_GHOSTBODY,t):console.error("Unknown physijs body type: "+this.physijs.type),i.updateMatrix()}},j.prototype.remove=function(i){return i instanceof C?(delete this.physijs.id_constraint_map[i.constraint_id],void this.physijs.postMessage(Q.REMOVE_CONSTRAINT,{constraint_id:i.constraint_id})):(THREE.Scene.prototype.remove.call(this,i),void(i.physics instanceof B&&(delete this.physijs.id_body_map[i.physics._.id],"RIGID"===i.physics.type?this.physijs.postMessage(Q.REMOVE_RIGIDBODY,{body_id:i.physics._.id}):"GHOST"===i.physics.type&&this.physijs.postMessage(Q.REMOVE_GHOSTBODY,{body_id:i.physics._.id}))))},j.prototype.step=function(i,s,t){if(this.physijs.is_stepping===!0)throw new Error("Physijs: scene is already stepping, cannot call step() until it's finished");this.physijs.is_stepping=!0,this.physijs.onStep=t;for(var e=Object.keys(this.physijs.id_body_map),n=0;n<e.length;n++){var o=e[n],r=this.physijs.id_body_map[o];if(null!=r&&(r.position.equals(r.physics._.position)&&r.quaternion.equals(r.physics._.quaternion)||this.physijs.setRigidBodyTransform(r),r.physics.linear_velocity.equals(r.physics._.linear_velocity)||this.physijs.setRigidBodyLinearVelocity(r),r.physics.angular_velocity.equals(r.physics._.angular_velocity)||this.physijs.setRigidBodyAngularVelocity(r),r.physics.linear_factor.equals(r.physics._.linear_factor)||(this.physijs.setRigidBodyLinearFactor(r),r.physics._.linear_factor.copy(r.physics.linear_factor)),r.physics.angular_factor.equals(r.physics._.angular_factor)||(this.physijs.setRigidBodyAngularFactor(r),r.physics._.angular_factor.copy(r.physics.angular_factor)),r.physics._.applied_forces.length>0)){for(var a=0;a<r.physics._.applied_forces.length;a+=2)this.physijs.applyForce(r,r.physics._.applied_forces[a],r.physics._.applied_forces[a+1]);r.physics._.applied_forces.length=0}}var p=Object.keys(this.physijs.id_constraint_map);for(n=0;n<p.length;n++){var h=p[n],c=this.physijs.id_constraint_map[h];null!=c&&(c.physics.active!==c.physics._.active&&(this.physijs.setConstraintActive(c),c.physics._.active=c.physics.active),c.physics.factor!==c.physics._.factor&&(this.physijs.setConstraintFactor(c),c.physics._.factor=c.physics.factor),c.physics.breaking_threshold!==c.physics._.breaking_threshold&&(this.physijs.setConstraintBreakingThreshold(c),c.physics._.breaking_threshold=c.physics.breaking_threshold),(c.physics.limit.enabled!==c.physics._.limit.enabled||c.physics.limit.lower!==c.physics._.limit.lower||c.physics.limit.upper!==c.physics._.limit.upper)&&(this.physijs.setConstraintLimit(c),c.physics._.limit.enabled=c.physics.limit.enabled,c.physics._.limit.lower=c.physics.limit.lower,c.physics._.limit.upper=c.physics.limit.upper),(c.physics.motor.enabled!==c.physics._.motor.enabled||c.physics.motor.torque!==c.physics._.motor.torque||c.physics.motor.max_speed!==c.physics._.motor.max_speed)&&(this.physijs.setConstraintMotor(c),c.physics._.motor.enabled=c.physics.motor.enabled,c.physics._.motor.torque=c.physics.motor.torque,c.physics._.motor.max_speed=c.physics.motor.max_speed))}this.physijs.postMessage(Q.STEP_SIMULATION,{time_delta:i,max_step:s})};var ni={BOX:"BOX",COMPOUND:"COMPOUND",CONE:"CONE",CONVEX:"CONVEX",CYLINDER:"CYLINDER",PLANE:"PLANE",SPHERE:"SPHERE",TRIANGLE:"TRIANGLE"};L.prototype=Object.create(C.prototype),L.prototype.constructor=L;var oi={HINGE:"HINGE"};L.prototype.getConstraintDefinition=function(){return{constraint_type:oi.HINGE,constraint_id:this.constraint_id,body_a_id:this.body_a.physics._.id,hinge_axis:{x:this.hinge_axis.x,y:this.hinge_axis.y,z:this.hinge_axis.z},point_a:{x:this.point_a.x,y:this.point_a.y,z:this.point_a.z},body_b_id:null==this.body_b?null:this.body_b.physics._.id,point_b:null==this.body_b?null:{x:this.point_b.x,y:this.point_b.y,z:this.point_b.z},active:this.physics.active,factor:this.physics.factor,breaking_threshold:this.physics.breaking_threshold,limit:{enabled:this.physics.limit.enabled,lower:this.physics.limit.lower,upper:this.physics.limit.upper},motor:{enabled:this.physics.motor.enabled,torque:this.physics.motor.torque,max_speed:this.physics.motor.max_speed}}},L.prototype.setActive=function(i){this.physics.active=i},L.prototype.setLimit=function(i,s){this.physics.limit.enabled=null!=i||null!=s,this.physics.limit.lower=i,this.physics.limit.upper=s},L.prototype.setMotor=function(i,s){this.physics.motor.enabled=null!=i||null!=s,this.physics.motor.torque=i,this.physics.motor.max_speed=s};var ri={PhysicsObject:v,Box:Z,Cone:K,Convex:q,Cylinder:F,Plane:z,Sphere:P,TriangleMesh:w,HingeConstraint:L,CompoundObject:G,Scene:j};return ri});